Cmais\ModelBundle\Entity\Asset:
    type: entity
    table: asset
    id:
        id:
            type: integer
            generator: { strategy: AUTO }

    oneToMany:
        categories:
            targetEntity: CategoryAsset
            mappedBy: asset
        sections:
            targetEntity: SectionAsset
            mappedBy: asset

#        sections:
#            targetEntity: Section
#            mappedBy: assets

#    manyToMany:
#        categories:
#            targetEntity: Category
#            inversedBy: assets
#            joinTable:
#                name: category_asset
#                joinColumns:
#                    asset_id:
#                        referencedColumnName: id
#                inverseJoinColumns:
#                    category_id:
#                        referencedColumnName: id
#        sections:
#            targetEntity: Section
#            inversedBy: assets
#            joinTable:
#                name: section_asset
#                joinColumns:
#                    asset_id:
#                        referencedColumnName: id
#                inverseJoinColumns:
#                    category_id:
#                        referencedColumnName: id

    manyToOne:
        asset_type:
            targetEntity: AssetType
            inversedBy: assets
            joinColumn:
                name: asset_type_id
                referencedColumnName: id
        site:
            targetEntity: Site
            inversedBy: assets
            joinColumn:
                name: site_id
                referencedColumnName: id
        category:
            targetEntity: Category
            inversedBy: assets
            joinColumn:
                name: category_id
                referencedColumnName: id
        user:
            targetEntity: User
            #inversedBy: assets
            joinColumn:
                name: user_id
                referencedColumnName: id

    fields:
#        asset_type_id:
#            type: integer
#            nullable: false

#        site_id:
#            type: integer
#            nullable: false

#        user_id:
#            type: integer
#            nullable: false

#        category_id:
#            type: integer
#            nullable: true

        slug:
            type: string
            length: 255
            gedmo:
                slug:
                separator: -
                fields:
                    - title
        title:
            type: string
            length: 255
            nullable: false
        description:
            type: string
            length: 510
            nullable: true
        display_order:
            type: integer
            nullable: true
        is_active:
            type: boolean
            nullable: true
            options:
                default: 0
        is_visible:
            type: boolean
            nullable: true
            options:
                default: 0
        date_start:
            type: datetime
            nullable: true
        date_end:
            type: datetime
            nullable: true
        created_at:
            type: datetime
            gedmo:
                timestampable:
                    on: create
        updated_at:
            type: datetime
            gedmo:
                timestampable:
                    on: update
    indexes:
        slug_index:
            columns: [ slug ]
        is_active_index:
            columns: [ is_active ]
        is_visible_index:
            columns: [ is_visible ]


